<div class="container">
  <h1>My Subscriptions</h1>

  <div class="loading-container" *ngIf="isLoading">
    <mat-spinner diameter="50"></mat-spinner>
  </div>

  <div *ngIf="!isLoading">
    <div *ngIf="artistSubscriptions.length === 0 && genreSubscriptions.length === 0" class="no-subscriptions-message">
      <mat-icon>notifications_off</mat-icon>
      <p>You currently have no subscriptions.</p>
    </div>

    <section *ngIf="artistSubscriptions.length > 0">
      <h2>Subscribed Artists</h2>
      <div class="subscription-list">
        <mat-card *ngFor="let sub of artistSubscriptions" class="subscription-card">
          <mat-card-header>
            <img mat-card-avatar [src]="sub.imageUrl" [alt]="sub.targetName">
            <p>{{ sub.targetName }}</p>
          </mat-card-header>
          <mat-card-actions align="end">
            <button mat-icon-button color="warn" (click)="unsubscribe(sub)" aria-label="Unsubscribe">
              <mat-icon>close</mat-icon> </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </section>

    <section *ngIf="genreSubscriptions.length > 0">
      <h2>Subscribed Genres</h2>
      <div class="subscription-list">
        <mat-card *ngFor="let sub of genreSubscriptions" class="subscription-card">
          <mat-card-header>
            <div mat-card-avatar class="genre-avatar">
              <mat-icon>music_note</mat-icon>
            </div>
            <p>{{ sub.targetName }}</p>
          </mat-card-header>
          <mat-card-actions align="end">
            <button mat-icon-button color="warn" (click)="unsubscribe(sub)" aria-label="Unsubscribe">
              <mat-icon>close</mat-icon> </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </section>
  </div>
</div>